<!DOCTYPE html>
<html lang="fi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Hajonnat tarkistus - Variant checking</title>
<LINK REL="SHORTCUT ICON" HREF="addon/aico.ico" />

<link rel="preload" href="https://fonts.googleapis.com/css2?family=Jost:wght@400;500;700;900&display=swap" as="style">
<link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;500;700;900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">

<link href="addon/page.css" rel="stylesheet" type="text/css">

<style  rel="stylesheet" type="text/css">

</style>

<script>
/* hide submit button - active div over button */
function hidebutton(obj,submitdiv,status) {
        var di=document.getElementById(submitdiv);
        if (status==0) { // return visible
                obj.style.visibility='visible';
                di.style.visibility='hidden';
                return;
                }
        di.style.visibility='visible';
	// over button div, size x2 button width
        di.style.width='' + obj.offsetWidth*2 + 'px';
        di.style.height='' + obj.offsetHeight + 'px';
        obj.style.visibility='hidden';
        di.style.visibility='visible'; // hide - not easy to use anymore
}


</script>

</head>
<body>
<div class="ylareuna">
<a href="https:///awot.fi"><span style="margin:0px;"><img 
src="https://awot.fi/img/yla_banner_logo_sin130_80.gif" width="130" height="80" alt="Awot" border="0" /></a>
<br /></div>
<a href="">FIN</a> | <a href="en/">ENG</a>
<div id="content">

<p>
<h2>Hajontatarkastaja - VariantChecker</h2>
<small>(c) Jukka Inkeri - 2022 -</small>
</p>

<p style="color:red;"> </p>
    <form
      id="form"
      enctype="multipart/form-data"
      action="/variantcheck/upload"
      method="POST"
      autocomplete="off"
      class="lomake"
    >
<input type="hidden" value="1" name="vaihe"></input>
<input type="hidden" value="" name="tunniste"></input>
<input type="hidden" value="1" name="rekisteroidy"></input>
<input type="hidden" value="0" name="tallenna"></input>
<input type="hidden" value="2" name="l1"></input>
<input type="hidden" value="3" name="l2"></input>
<input type="hidden" value="2" name="l3"></input>
<br />
<br />
<fieldset>
<legend>Source data - L&auml;hdedata</legend>
<p>
<small></small>
</p>



	<br />
	<label for="sala">PIN:</label> 
          <input class="input" type="text" name="sala" value="" size=10 required 	
		 minlength='8' 
		placeholder="PIN min. 8 merkkiä" />
	  <a href="#" class="tooltip">?<span class="tooltiptext">Ei käytössä toistaiseksi</span></a>
	<br />
	<label for="file">Tiedostot:</label> 
          <input class="input file-input" type="file" name="file" multiple />
	  <a href="#" class="tooltip">?<span class="tooltiptext">Ratatiedosto ja joukkuehajontatiedosto, katso oheiset ohjeet</span></a>
	<br />
	<label for="advanced">Laaja tulos:</label> 
          <input class="input" type="checkbox" name="advanced" value="laajatulos" />
	  <a href="#" class="tooltip">?<span class="tooltiptext">Laaja tulostus, myös parseroidut csv:t näytetään</span></a>
	<br />
	<br />
	<br />
   	<div id="submitdiv"><img src="data:image/gif;base64,R0
lGODlhEAAQAPIAAP///wAAAM
LCwkJCQgAAAGJiYoKCgpKSki
H/C05FVFNDQVBFMi4wAwEAAA
Ah/hpDcmVhdGVkIHdpdGggYW
pheGxvYWQuaW5mbwAh+QQJCg
AAACwAAAAAEAAQAAADMwi63P
4wyklrE2MIOggZnAdOmGYJRb
ExwroUmcG2LmDEwnHQLVsYOd
2mBzkYDAdKa+dIAAAh+QQJCg
AAACwAAAAAEAAQAAADNAi63P
5OjCEgG4QMu7DmikRxQlFUYD
EZIGBMRVsaqHwctXXf7WEYB4
Ag1xjihkMZsiUkKhIAIfkECQ
oAAAAsAAAAABAAEAAAAzYIuj
IjK8pByJDMlFYvBoVjHA70GU
7xSUJhmKtwHPAKzLO9HMaoKw
JZ7Rf8AYPDDzKpZBqfvwQAIf
kECQoAAAAsAAAAABAAEAAAAz
MIumIlK8oyhpHsnFZfhYumCY
UhDAQxRIdhHBGqRoKw0R8DYl
Jd8z0fMDgsGo/IpHI5TAAAIf
kECQoAAAAsAAAAABAAEAAAAz
IIunInK0rnZBTwGPNMgQwmds
NgXGJUlIWEuR5oWUIpz8pAEA
Me6TwfwyYsGo/IpFKSAAAh+Q
QJCgAAACwAAAAAEAAQAAADMw
i6IMKQORfjdOe82p4wGccc4C
EuQradylesojEMBgsUc2G7sD
X3lQGBMLAJibufbSlKAAAh+Q
QJCgAAACwAAAAAEAAQAAADMg
i63P7wCRHZnFVdmgHu2nFwlW
CI3WGc3TSWhUFGxTAUkGCbtg
ENBMJAEJsxgMLWzpEAACH5BA
kKAAAALAAAAAAQABAAAAMyCL
rc/jDKSatlQtScKdceCAjDII
7HcQ4EMTCpyrCuUBjCYRgHVt
qlAiB1YhiCnlsRkAAAOwAAAA
" title="Odota ..."
</img>
<br />
</div>
<input type="submit" formnovalidate class="submit" value="L&auml;het&auml;" name="doit"
        title="L&auml;het&auml;tiedosto(t)"
        onClick="hidebutton(this,'submitdiv',1)"
/>


    </fieldset>
    </form>
<p>
Suoritus kestää muutamasta sekunnista max. 30 sekuntiin. Riippuu miten paljon dataa tarkastettavana. 
</p>
<hr />

<h2>Ohjeet</h2>
<p>
Tarvitset kaksi tiedostoa siirrettäväksi palvelimelle:
</p>
<ul>
<li>Ratatiedosto XML joko IOF 2.0.3 tai 3.0 formaatti. 3.0 versio toimii kaikissa variaatioissa.
</li>
<li>Hajonnat joukkueille: Ocad:stä tai csv/lst ns. Pirilän formaatissa tai tuotettu XML Pirilä-ohjelmasta. Tarkemmat ohjeet
kuinka tuottaa aineisto Pirilästä tai muodostaa ko. lst-tiedosto on sivustolla 
<a href="https://github.com/kshji/viestihajonta/blob/main/README.md">Lue ohjeet</a> sekä
<a href="https://github.com/kshji/viestihajonta/raw/main/Hajontatarkistus.Lahtotiedot.Pirilasta.pdf">Pirila-ohje</a> (pdf)
</li>
</ul>
<p>
Järjestelmä tunnistaa automaattisesti tiedoston nimistä mikä oheisista kolmesta versiosta on tarkastettavana.
</p>

<h3>Ocad tiedostoista</h3>
<ul>
<li>Ratatiedot: Ratasuunnittelu - Vie - Radat IOF XML 3.0, nimeä radat...xml tai course....xml. Tiedoston nimessä oltava <b>radat</b> tai <b>course</b>
</li>
<li>Joukkuehajonnat: Ratasuunnittelu - Vie - Vie joukkuehajonnat. Tiedoston nimessä oltava
<b>joukkuehajon</b> tai <b>variant</b> tai <b>teamvariant</b> ja tiedoston loppuliite .txt esim: kisaxyz.joukkuehajonnat.txt
</li>
</ul>

<p>
Lopputulosena saadaan myös <b>hajonta.lst</b>, jota voi käyttää pohjana tehdessä joukkuekohtaisia hajontoja Pirilä-ohjelmaan.
</p>

<h3>Ocad ratatiedosto ja hajonnat joukkueille csv (Pirilä-formaatti)</h3>
<ul>
<li>Ratatiedot: Ratasuunnittelu - Vie - Radat IOF XML 3.0, nimeä radat...xml tai course....xml. Tiedoston nimessä oltava <b>radat</b> tai <b>course</b>
</li>
<li>Joukkuehajonnat: ns. Pirilä-ohjelman hajonta.lst muoto
<b>hajonta</b> tai <b>variant</b> ja tiedoston loppuliite .csv tai .lst esim: kisaxyz.hajonta.lst
</li>
</ul>

<h3>Tiedot tuotetaan Pirilä-ohjelmasta</h3>
<p>
Kun on käytössä Pirilä-ohjelma, niin viimeinen tarkistus kannattaa tehdä tulospalvelussa olevalla tiedolla.
</p>

<ul>
<li>Tiedoston nimessä oltava <b>radat</b> tai <b>course</b>, esim: kisaxyz.radat.xml. Tarkemmin kuinka tulee tehdä, 
<a href="https://github.com/kshji/viestihajonta/raw/main/Hajontatarkistus.Lahtotiedot.Pirilasta.pdf">lue Pirila-ohje</a> (pdf)
</li>
<li>Joukkuehajonnat: Tuotetaan Pirilä-ohjelmasta XML-tiedosto. Tiedoston nimessä oltava 
<b>pirila</b> ja tiedoston loppuliite .xml esim: kisaxyz.pirilasta.xml
</li>
</ul>

<h3>Tiedot tuotetaan SportSoftware OS12 -ohjelmasta</h3>
<a href="https://olfellows.fi/">SportSoftware</a> suomenkieliset versiot, OS12 viesteissä.

<p>
Kun on käytössä OS12-ohjelma, niin viimeinen tarkistus kannattaa tehdä tulospalveluohjelmassa olevalla tiedolla.
</p>

<p>
<a href="https://github.com/kshji/viestihajonta/raw/main/Hajontatarkistus.Lahtotiedot.OS12.pdf">OS12-ohje</a> (pdf)
</p>

<ul>
<li>tuota tarvittava tiedosto viestiohjelmasta: Radat :: Raportit :: Joukkuehajonnat :: Vie :: Oletus
</li>
<li>Valitaan <b>Merkkierotellut sarakkeet (CSV)</b>, erotin puolipiste (;) ja erotinmerkki voi olla myös pois tai lainausmerkki,
annetaan tiedoston nimeksi jotain, joka alkaa <b>os.joukkue</b> ja loppu on <b>csv</b>. Välissä voi olla vaikka kisan tunniste tai puuttua.
</li>
<li>syntyvässä tiedostonimessä oltava mukana merkkijono <b>os.joukkue</b> ja loppuliite .csv
</li>
<li>Ei tarvita erillistä ratatiedostoa, kaikki tarvittava on yhdessä tiedostossa
</li>
</ul>





<h3>Esimerkkiaineisto</h3>
<p>
<a href="https://github.com/kshji/viestihajonta/tree/main/sourcedata/examples">Github:ssa esimerkkiaineistoja</a>
</p>

<h3>Lähdekoodi</h3>
<p>
Koko paketti on avoinohjelmisto, joten voit käyttää joko komentopohjaisesti omalla koneella tai laittaa pystyyn online-palvelun kuten
tämä palvelukin on tehty.
</p>
<p>
<a href="https://github.com/kshji/viestihajonta">Github Viestihajonta</a>
</p>

<h3>Palaute</h3>
<p>
Tämä 1. versio, julkaistu 6.10.2022. Otan palautetta vastaan, etenkin jos ja kun löytyy virheitä toiminnassa.
Yhteystiedot löytyy tuolta github-sivulta.
</p>
<p>
Liperissä 6. lokakuuta 2022<br />
Jukka Inkeri
</p>
</div><!--content-->
<div class="palkki" width="100%">
<hr />
&nbsp;&nbsp;<a href="https://awot.fi">Karjalan ATK-Awot Oy</a>&nbsp;&nbsp;<a href="https://suunnistus.info">Suunnistus.Info</a>
</div>

  </body>
</html>
